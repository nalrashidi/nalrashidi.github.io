{"version":3,"file":"static/js/428.f484b4c4.chunk.js","mappings":"0QAGMA,GAAAA,EAAAA,EAAAA,IAEF,aAA4B,IAAhBC,EAAe,uDAAJ,IAAI,eAClBC,MAAMC,QAAQF,KAAWA,EAAW,CAAC,EAAG,IAC7CG,KAAKC,GAAKJ,EAAS,GACnBG,KAAKE,MAAQL,EAAS,MAG9BM,EAAAA,EAAAA,gBAAuBC,IAAAA,cAAqBR,G,aCHtCA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAYyD,OAZzDA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFS,MAAQ,CAAEC,OAAO,GAAT,EACRC,UAAW,0BASXN,IAAKO,EAAAA,EAAAA,GAAS,KAAM,GAAG,GAAV,EACbC,OAAQC,MAAM,EAAKT,MAAe,EAAKA,GAAK,GAAK,EAAKA,GAAK,MAO1D,OAP0D,+BAR3D,WAAW,IAAD,QDCC,WAAmC,IAAVU,EAAS,uDAAH,EAAK,OAAOR,EAAAA,EAAAA,QAAeC,IAAAA,cAAqB,CAAEO,IAAAA,KCAxFC,CAAgBZ,KAAKC,IAAIY,MAAK,SAAAhB,GACrB,EAAKiB,mBACV,EAAKP,SAAWQ,EAAAA,EAAAA,IAAalB,EAASI,GAAI,EAAG,EAAKA,GAAIJ,EAASK,OAAOc,iBACtE,EAAKC,SAAS,CAAEX,OAAO,UAE9B,oBAGD,WACI,OAAKN,KAAKS,MAELT,KAAKK,MAAMC,MAETN,KAAKO,UADD,yBAFA,SAAC,KAAD,CAAUW,GAAG,iBAI3B,EAnBCtB,CAAqBuB,EAAAA,GAsB3B,K,qBC9Be,SAASX,IAAiD,IAAxCY,EAAuC,uDAAhC,GAAIC,EAA4B,uDAAtB,GAAIC,EAAkB,wDAChEC,EAAI,IAAIC,gBAAgBC,OAAOC,SAASC,QAAQC,IAAIR,GACxD,OAAOE,EAAWO,SAASN,IAAMF,EAAME,GAAKF,E","sources":["components/API/Building.js","components/Building.jsx","components/Functions/getParam.js"],"sourcesContent":["import socket from \"../CLASSES/Socket\";\r\nimport codes from \"../CLASSES/opcode\";\r\n\r\nclass BuildingView {\r\n    /** @param {[Number,Number]} response */\r\n    constructor(response = []) {\r\n        if (!Array.isArray(response)) response = [1, 1];\r\n        this.id = response[0];\r\n        this.level = response[1];\r\n    }\r\n}\r\nsocket.defineStructure(codes.BUILDING_VIEW, BuildingView);\r\n/** @returns {Promise<BuildingView>} */\r\nexport default function requestBuilding(pId = 1) { return socket.request(codes.BUILDING_VIEW, { pId }) };","import React from \"react\";\r\nimport { Navigate } from \"react-router\";\r\nimport getParam from \"./Functions/getParam\";\r\nimport Pure from \"./Pure\";\r\nimport Building from \"./CLASSES/buildings\";\r\nimport \"./Building.scss\";\r\nimport requestBuilding from \"./API/Building\";\r\n\r\nclass BuildingView extends Pure {\r\n    state = { ready: false }\r\n    building = <></>;\r\n\r\n    onReady() {\r\n        requestBuilding(this.id).then(response => {\r\n            if (!this.componentIsReady) return;\r\n            this.building = Building.New(response.id, 0, this.id, response.level).renderBuilding();\r\n            this.setState({ ready: true });\r\n        });\r\n    }\r\n    id = getParam(\"id\", 0, true);\r\n    valid = isNaN(this.id) ? false : (this.id > 0 && this.id < 41);\r\n    render() {\r\n        if (!this.valid)\r\n            return <Navigate to=\"/Village\" />;\r\n        if (!this.state.ready)\r\n            return <></>;\r\n        return this.building;\r\n    }\r\n}\r\n\r\nexport default BuildingView;","export default function getParam(name = \"\", def = \"\", asNumber = false) {\r\n    let p = new URLSearchParams(window.location.search).get(name);\r\n    return asNumber ? parseInt(p) || def : p || def;\r\n}"],"names":["BuildingView","response","Array","isArray","this","id","level","socket","codes","state","ready","building","getParam","valid","isNaN","pId","requestBuilding","then","componentIsReady","Building","renderBuilding","setState","to","Pure","name","def","asNumber","p","URLSearchParams","window","location","search","get","parseInt"],"sourceRoot":""}