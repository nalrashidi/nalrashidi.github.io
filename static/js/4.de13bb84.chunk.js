(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[4],{189:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(11),a=n(12),i=n(25),s=n(24),o=n(0),c=n(207),l=n(208),u=n(192),v=n.n(u),d=(n(190),n(2)),h={open:function(){},close:function(){}},f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={visible:!1},a.message="",a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.open=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.open(t)},h.close=function(){return e.close()}}},{key:"componentWillUnmount",value:function(){h.open=function(){},h.close=function(){}}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.message=e,this.setState({visible:!0})}},{key:"close",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){var e=this;return Object(d.jsx)(c.a,{anchorOrigin:{vertical:this.props.vertical||"bottom",horizontal:this.props.horizontal||"center"},open:this.state.visible,autoHideDuration:6e3,message:this.message,onClose:function(){return e.close()},className:"toast-message",action:Object(d.jsx)(l.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return e.close()},children:Object(d.jsx)(v.a,{fontSize:"small"})})})}}]),n}(o.PureComponent)},190:function(e,t,n){},191:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return f}));var r=n(11),a=n(12),i=n(25),s=n(24),o=n(0),c=n(206);function l(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{valid:e,result:t}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=e.length;return i<t?l(!1,r):i>n?l(!1,a):l(!0)}function v(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u062a\u0648\u062c\u062f \u0623\u062d\u0631\u0641/\u0631\u0645\u0648\u0632 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d\u0629",n=e.length,r=0;r<n;r++){var a=e.codePointAt(r);if(a<31||a>127&&a<1569||a>1595&&a<1601||a>1610)return l(!1,t)}return l(!0)}var d={safeLength:u,safeText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r="",a=e.length;if(a<t)r="\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u062f\u0646\u0649 ".concat(t," \u0623\u062d\u0631\u0641");else if(a>n)r="\u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0642\u0635\u0649 ".concat(n," \u062d\u0631\u0641");else for(var i=0;i<a;i++){var s=e.codePointAt(i);if(s<31||s>127&&s<1569||s>1595&&s<1601||s>1610){r="\u062a\u0648\u062c\u062f \u0623\u062d\u0631\u0641/\u0631\u0645\u0648\u0632 \u063a\u064a\u0631 \u0635\u0627\u0644\u062d\u0629";break}}return{valid:""===r,result:r}},safeUsername:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.length;return t<3?l(!1,"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0642\u0635\u064a\u0631 \u064a\u062c\u0628 \u0627\u0646 \u0644\u0627 \u064a\u0642\u0644 \u0639\u0646 3 \u0623\u062d\u0631\u0641"):t>15?l(!1,"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0637\u0648\u064a\u0644 \u064a\u062c\u0628 \u0627\u0646 \u0644\u0627 \u064a\u0632\u064a\u062f \u0639\u0646 15 \u062d\u0631\u0641"):v(e)},safeEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.length;if(t<5||t>32)return l(!1,"\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u0627\u0644\u062d");var n=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/.test(e);return n?v(e,"\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u0627\u0644\u062d"):l(!1,"\u0628\u0631\u064a\u062f \u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a \u063a\u064a\u0631 \u0635\u0627\u0644\u062d")},safePassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(e,5,32,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0642\u0635\u064a\u0631\u0629 \u064a\u062c\u0628 \u0627\u0646 \u0644\u0627 \u062a\u0642\u0644 \u0639\u0646 5 \u0623\u062d\u0631\u0641","\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0637\u0648\u064a\u0644\u0629 \u064a\u062c\u0628 \u0627\u0646 \u0644\u0627 \u062a\u0632\u064a\u062f \u0639\u0646 32 \u062d\u0631\u0641")},safeCharacters:v},h=(new(function(){function e(){Object(r.a)(this,e),this.memory={}}return Object(a.a)(e,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.memory[e]=t}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.memory[e]}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.memory[e];return"function"===typeof t?t():null}}]),e}()),n(2)),f={username:{value:"",isValid:function(){return!1}},email:{value:"",isValid:function(){return!1}},password:{value:"",isValid:function(){return!1}},init:function(){this.username.value="",this.email.value="",this.password.value="",this.username.isValid=function(){return!1},this.email.isValid=function(){return!1},this.password.isValid=function(){return!1}}},b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).error="",e.state={validated:0},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.username.isValid=function(){return e.check()}}},{key:"check",value:function(){var e=f.username.value,t=d.safeUsername(e);return console.log([e,t.valid,t.result]),this.error=t.result,this.setState({validated:t.valid?2:1}),t.valid}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a.Control,{tabIndex:this.props.tabIndex||1,name:"name",type:"text",size:"sm",onBlur:function(){return e.check()},onChange:function(e){return f.username.value=e.target.value},placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),Object(h.jsx)("div",{className:"error ta-right",children:this.error})]})}}]),n}(o.PureComponent),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).error="",e.state={validated:0},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.password.isValid=function(){return e.check()}}},{key:"check",value:function(){var e=f.password.value,t=d.safePassword(e);return console.log([e,t.valid,t.result]),this.error=t.result,this.setState({validated:t.valid?2:1}),t.valid}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a.Control,{tabIndex:this.props.tabIndex||1,name:"password",type:"password",size:"sm",onBlur:function(){return e.check()},onChange:function(e){return f.password.value=e.target.value},placeholder:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Object(h.jsx)("div",{className:"error ta-right",children:this.error})]})}}]),n}(o.PureComponent),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).error="",e.state={validated:0},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.email.isValid=function(){return e.check()}}},{key:"check",value:function(){var e=f.email.value,t=d.safeEmail(e);return console.log([e,t.valid,t.result]),this.error=t.result,this.setState({validated:t.valid?2:1}),t.valid}},{key:"render",value:function(){var e=this;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a.Control,{tabIndex:this.props.tabIndex||1,name:"email",type:"text",size:"sm",onBlur:function(){return e.check()},onChange:function(e){return f.email.value=e.target.value},placeholder:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"}),Object(h.jsx)("div",{className:"error ta-right",children:this.error})]})}}]),n}(o.PureComponent)},197:function(e,t,n){},205:function(e,t,n){"use strict";n.r(t);var r=n(11),a=n(12),i=n(25),s=n(24),o=(n(0),n(206)),c=n(164),l=n(181),u=n(8),v=n(22),d=(n(197),n(191)),h=n(189),f=n(49),b=n(2),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={redirect:!1},e.data={username:"",password:"",server:1},d.b.init(),console.log("Login"),e}return Object(a.a)(n,[{key:"login",value:function(e){var t=this;e.preventDefault();var n=d.b.username.isValid(),r=d.b.password.isValid();return n&&r&&(this.data.username=d.b.username.value,this.data.password=d.b.password.value,v.a.login(this.data).then((function(e){t.componentIsReady&&(e.authorized?(v.a.serverNumber=t.data.server,window.localStorage.setItem("server",v.a.serverNumber),t.setState({redirect:!0})):(v.a.serverNumber=0,window.localStorage.setItem("server",0),h.a.open(e.e_username+e.e_password)))}))),!1}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(b.jsx)(u.a,{to:"/Village"}):Object(b.jsxs)("div",{className:"game-login",children:[Object(b.jsx)(h.b,{}),Object(b.jsx)("h1",{children:"\u0627\u0644\u062f\u062e\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0644\u0639\u0628\u0629"}),Object(b.jsxs)("div",{className:"game-login-top",children:[Object(b.jsx)("div",{children:Object(b.jsx)("span",{children:"\u0627\u0644\u062f\u062e\u0648\u0644"})}),Object(b.jsx)("p",{children:"\u0639\u0644\u064a\u0643 \u062a\u0641\u0639\u064a\u0644 \u0645\u0644\u0641\u0627\u062a \u0627\u0644\u062a\u0639\u0631\u064a\u0641 (\u0643\u0648\u0643\u064a\u0632) \u0644\u062a\u062a\u0645\u0643\u0646 \u0645\u0646 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644. \u0648 \u0625\u0630\u0627 \u062a\u0639\u062f\u062f \u0645\u0633\u062a\u062e\u062f\u0645\u0648\u0627 \u0647\u0630\u0627 \u0627\u0644\u062d\u0627\u0633\u0628 \u064a\u062c\u0628 \u0623\u0646 \u062a\u0636\u063a\u0637 \u0639\u0644\u0649 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0641\u064a \u0643\u0644 \u0645\u0631\u0629 \u062a\u0646\u062a\u0647\u064a \u0645\u0646 \u0627\u0644\u0644\u0639\u0628 \u0648\u0630\u0644\u0643 \u062d\u0641\u0627\u0638\u0627\u064b \u0639\u0644\u0649 \u0628\u064a\u0627\u0646\u0627\u062a\u0643."})]}),Object(b.jsxs)("form",{onSubmit:function(t){return e.login(t)},children:[Object(b.jsxs)(o.a.Group,{className:"game-login-form",children:[Object(b.jsxs)(o.a.Row,{children:[Object(b.jsx)(o.a.Label,{column:!0,sm:2,children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),Object(b.jsx)(c.a,{children:Object(b.jsx)(d.d,{})})]}),Object(b.jsxs)(o.a.Row,{children:[Object(b.jsx)(o.a.Label,{column:!0,sm:2,children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),Object(b.jsx)(c.a,{children:Object(b.jsx)(d.c,{})})]}),Object(b.jsxs)(o.a.Row,{children:[Object(b.jsxs)(o.a.Label,{column:!0,sm:2,children:["\u0627\u0644\u0633\u064a\u0631\u0641\u0631",Object(b.jsx)("br",{})]}),Object(b.jsx)(c.a,{className:"servers-col",children:Object(b.jsx)(m,{onChange:function(t){e.data.server=t}})})]})]}),Object(b.jsx)(l.a,{variant:"secondary",type:"submit",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})]})}}]),n}(f.a),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={ready:!1},e.servers=Object(b.jsx)(b.Fragment,{}),e}return Object(a.a)(n,[{key:"onReady",value:function(){var e=this;v.a.listServers((function(t){Array.isArray(t)&&(e.servers=Object(b.jsx)("select",{className:"servers-list",onChange:function(t){return e.props.onChange(Number(t.target.value))},children:t.map((function(e){return Object(b.jsxs)("option",{value:e.serverNumber,children:["\u0627\u0644\u0633\u064a\u0631\u0641\u0631 ",e.serverNumber]},"Server"+e.serverNumber)}))}),e.updateState({ready:!0}))}))}},{key:"render",value:function(){return this.servers}}]),n}(f.a);t.default=j}}]);
//# sourceMappingURL=4.de13bb84.chunk.js.map