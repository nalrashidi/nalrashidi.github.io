{"version":3,"file":"static/js/44.487674db.chunk.js","mappings":"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","sources":["components/Feilds.jsx","components/Functions/validation.js","components/Interfaces/SnackBar.jsx","components/Login.jsx"],"sourcesContent":["import { Form } from 'react-bootstrap';\r\nimport validate from \"./Functions/validation\";\r\nimport Pure from './Pure';\r\n\r\n\r\nclass Username extends Pure {\r\n    value = \"\";\r\n    state = { error: \"\", validated: 0 } // 0=not validated yet, 1=not valid, 2=valid\r\n    isValid() {\r\n        let test = validate.safeUsername(this.value);\r\n        this.updateState({ validated: test.valid ? 2 : 1, error: test.result });\r\n        return test.valid;\r\n    }\r\n    render() {\r\n        return <>\r\n            <Form.Control autoFocus=\"on\" tabIndex={this.props.tabIndex || 1} name=\"name\" type=\"text\" size=\"sm\" onBlur={() => this.isValid()} onChange={e => (this.value = e.target.value)} placeholder=\"اسم المستخدم\" />\r\n            <div className=\"error ta-right\">{this.state.error}</div>\r\n        </>;\r\n    }\r\n}\r\n\r\nclass Password extends Pure {\r\n    value = \"\";\r\n    state = { error: \"\", validated: 0 } // 0=not validated yet, 1=not valid, 2=valid\r\n    isValid() {\r\n        let test = validate.safePassword(this.value);\r\n        this.updateState({ validated: test.valid ? 2 : 1, error: test.result });\r\n        return test.valid;\r\n    }\r\n    render() {\r\n        return <>\r\n            <Form.Control autoComplete=\"on\" tabIndex={this.props.tabIndex || 1} name=\"password\" type=\"password\" size=\"sm\" onBlur={() => this.isValid()} onChange={e => (this.value = e.target.value)} placeholder=\"كلمة المرور\" />\r\n            <div className=\"error ta-right\">{this.state.error}</div>\r\n        </>;\r\n    }\r\n}\r\n\r\nclass Email extends Pure {\r\n    value = \"\";\r\n    state = { error: \"\", validated: 0 } // 0=not validated yet, 1=not valid, 2=valid\r\n    isValid() {\r\n        let test = validate.safeEmail(this.value);\r\n        this.updateState({ validated: test.valid ? 2 : 1, error: test.result });\r\n        return test.valid;\r\n    }\r\n    render() {\r\n        return <>\r\n            <Form.Control tabIndex={this.props.tabIndex || 1} name=\"email\" type=\"text\" size=\"sm\" onBlur={() => this.isValid()} onChange={e => (this.value = e.target.value)} placeholder=\"البريد الالكتروني\" />\r\n            <div className=\"error ta-right\">{this.state.error}</div>\r\n        </>;\r\n    }\r\n}\r\n\r\nexport { Username, Email, Password }","function result(valid = true, message = \"\") {\r\n    return { valid, result: message }\r\n}\r\n\r\nfunction safeCharCode(c = 0) {\r\n    // return ((c > 8 && c < 12) || (c > 31 && c < 127) || (c > 1569 && c < 1596) || (c > 1600 && c < 1611));\r\n    return ((c > 8 && c < 12) || (c > 31 && c < 127) || (c > 0x5FF && c < 0x61C) || (c > 0x61D && c < 0x700));\r\n}\r\n\r\nfunction safeLength(text = \"\", min = 3, max = 15, eMin = \"\", eMax = \"\") {\r\n    let len = text.length;\r\n    if (len < min) return result(false, eMin);\r\n    else if (len > max) return result(false, eMax);\r\n    return result(true);\r\n}\r\n\r\nfunction safeCharacters(text = \"\", err = \"توجد أحرف/رموز غير صالحة\") {\r\n    let noEmoji = text.replace(/\\p{Emoji}|\\p{Extended_Pictographic}|\\u200D/gui, \"$\"); // Exclude emojis.\r\n    let len = noEmoji.length;\r\n    for (let i = 0; i < len; i++) {\r\n        /*  Safe Characters code:\r\n            32 -> 126\r\n            1569 -> 1595\r\n            1601 -> 1610\r\n        */\r\n        if (safeCharCode(noEmoji.charCodeAt(i)))\r\n            // Valid:\r\n            continue;\r\n        else\r\n            // Not Valid:\r\n            return result(false, err);\r\n    }\r\n    return result(true);\r\n}\r\n\r\nfunction safeText(text = \"\", min = 4, max = 20) {\r\n    let result = \"\";\r\n    let noEmoji = text.replace(/\\p{Extended_Pictographic}/ug, \"$\"); // Replace emojis with '$' character.\r\n    let len = noEmoji.length;\r\n    if (len < min) result = `الحد الأدنى ${min} أحرف`;\r\n    else if (len > max) result = `الحد الأقصى ${max} حرف`;\r\n    else {\r\n        for (let i = 0; i < len; i++) {\r\n            if (safeCharCode(noEmoji.charCodeAt(i))) continue;\r\n            // unsafe character detected -> break loop\r\n            result = \"توجد أحرف/رموز غير صالحة\";\r\n            break;\r\n        }\r\n    }\r\n    return { valid: result === \"\", result };\r\n}\r\n\r\nfunction safeUsername(username = \"\") {\r\n    let len = username.replace(/\\p{Extended_Pictographic}/ug, \"$\").length;\r\n    if (len < 3) return result(false, \"أسم المستخدم قصير يجب ان لا يقل عن 3 أحرف\");\r\n    if (len > 15) return result(false, \"أسم المستخدم طويل يجب ان لا يزيد عن 15 حرف\");\r\n    return safeCharacters(username);\r\n}\r\n\r\nfunction safeEmail(email = \"\") {\r\n    let len = email.length;\r\n    if (len < 5 || len > 32) return result(false, \"بريد إلكتروني غير صالح\");\r\n    let valid = /^[^@]+@[^@]{1,}\\.[^@]{2,}$/.test(email);\r\n    if (!valid) return result(false, \"بريد إلكتروني غير صالح\");\r\n    return safeCharacters(email, \"بريد إلكتروني غير صالح\");\r\n}\r\n\r\nfunction safePassword(password = \"\") {\r\n    return safeLength(password, 5, 32,\r\n        \"كلمة المرور قصيرة يجب ان لا تقل عن 5 أحرف\",\r\n        \"كلمة المرور طويلة يجب ان لا تزيد عن 32 حرف\"\r\n    );\r\n}\r\n\r\nconst validators = { safeLength, safeText, safeUsername, safeEmail, safePassword, safeCharacters };\r\n\r\nexport default validators;","import React from 'react';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport \"./SnackBar.css\";\r\nimport Pure from '../Pure';\r\nimport sharedMemory from '../CLASSES/SharedMemory';\r\n\r\n/** @augments {Pure<{ vertical: String, horizontal: String, duration: Number }>} */\r\nclass SnackBar extends Pure {\r\n    state = { visible: false }\r\n    message = \"\";\r\n    open(msg = \"\") {\r\n        this.message = msg;\r\n        this.updateState({ visible: true });\r\n    }\r\n    close() {\r\n        this.updateState({ visible: false });\r\n    }\r\n\r\n    render() {\r\n        return <Snackbar\r\n            anchorOrigin={{ vertical: this.props.vertical || \"bottom\", horizontal: this.props.horizontal || \"center\" }}\r\n            open={this.state.visible}\r\n            autoHideDuration={6000}\r\n            message={this.message}\r\n            onClose={() => this.close()}\r\n            className=\"toast-message\"\r\n            action={\r\n                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={() => this.close()}>\r\n                    <CloseIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            }\r\n        />\r\n    }\r\n}\r\n\r\nlet openSnackBar = (text = \"\") => { sharedMemory.safe(\"snackbar\", sb => sb.open(text)) };\r\n\r\nexport { SnackBar, openSnackBar };","import React from \"react\";\r\nimport { Form, Button, Col } from \"react-bootstrap\";\r\nimport client from \"./CLASSES/client\";\r\nimport \"./Login.css\";\r\nimport { Username, Password } from \"./Feilds\";\r\nimport { SnackBar, openSnackBar } from \"./Interfaces/SnackBar\";\r\nimport Pure from \"./Pure\";\r\nimport { Loading } from \"./SubComponents/ProgressBar\";\r\nimport sharedMemory from \"./CLASSES/SharedMemory\";\r\nimport { Navigate } from \"react-router\";\r\n\r\nclass Login extends Pure {\r\n\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    data = {\r\n        username: \"\",\r\n        password: \"\",\r\n        server: 1,\r\n    }\r\n\r\n    login(event) {\r\n        event.preventDefault();\r\n        let username = sharedMemory.get(\"username\");\r\n        let password = sharedMemory.get(\"password\");\r\n        if (username.isValid() && password.isValid()) {\r\n            Loading.show();\r\n            this.data.username = username.value;\r\n            this.data.password = password.value;\r\n            client.login(this.data).then(response => {\r\n                if (!this.componentIsReady) return;\r\n                if (response.authorized === true) {\r\n                    client.updateAuthorization(response.server, response.authorized, response.key, response.activeVillageId);\r\n                    // redirect(\"/Village\");\r\n                    this.setState({ redirect: true });\r\n                } else {\r\n                    openSnackBar(response.e_username + response.e_password);\r\n                }\r\n                Loading.hide();\r\n            })\r\n        }\r\n        return false;\r\n    }\r\n\r\n    render() {\r\n        if (!client.ready)\r\n            return <></>;\r\n        if (this.state.redirect)\r\n            return <Navigate to=\"/Village\" />;\r\n        else\r\n            return <div className=\"game-login\">\r\n                <SnackBar register=\"snackbar\" />\r\n                <h1>الدخول إلى اللعبة</h1>\r\n                <div className=\"game-login-top\">\r\n                    <div><span>الدخول</span></div>\r\n                    <p>عليك تفعيل ملفات التعريف (كوكيز) لتتمكن من تسجيل الدخول. و إذا تعدد مستخدموا هذا الحاسب يجب أن تضغط على تسجيل الخروج في كل مرة تنتهي من اللعب وذلك حفاظاً على بياناتك.</p>\r\n                </div>\r\n                <form onSubmit={event => this.login(event)}>\r\n                    <Form.Group className=\"game-login-form\">\r\n                        <Form.Row>\r\n                            <Form.Label column sm={2}>اسم المستخدم</Form.Label>\r\n                            <Col>\r\n                                <Username register=\"username\" />\r\n                            </Col>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Label column sm={2}>كلمة المرور</Form.Label>\r\n                            <Col>\r\n                                <Password register=\"password\" />\r\n                            </Col>\r\n                        </Form.Row>\r\n                        <Form.Row>\r\n                            <Form.Label column sm={2}>السيرفر<br /></Form.Label>\r\n                            <Col className=\"servers-col\">\r\n                                <ServersList onChange={server => { this.data.server = server; }} />\r\n                            </Col>\r\n                        </Form.Row>\r\n                    </Form.Group>\r\n                    <Button variant=\"secondary\" type=\"submit\">تسجيل الدخول</Button>\r\n                </form>\r\n            </div>;\r\n    }\r\n}\r\n\r\nclass ServersList extends Pure {\r\n    state = { ready: false }\r\n    /** @type {{ serverNumber: number, ready: boolean, ended: boolean, isFull: boolean, started: number, players: number }[]} */\r\n    servers = <></>;\r\n\r\n    onReady() {\r\n        client.listServers(response => {\r\n            let servers = response.servers;\r\n            if (!Array.isArray(servers)) return;\r\n            this.servers = <select className=\"servers-list\" onChange={e => this.props.onChange(Number(e.target.value))}>\r\n                {servers.map(server => <option key={\"Server\" + server.serverNumber} value={server.serverNumber}>السيرفر {server.serverNumber}</option>)}\r\n            </select>;\r\n            this.updateState({ ready: true });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return this.servers;\r\n    }\r\n}\r\n\r\nexport default Login;"],"names":["Username","value","state","error","validated","test","validate","this","updateState","valid","result","autoFocus","tabIndex","props","name","type","size","onBlur","isValid","onChange","e","target","placeholder","className","Pure","Password","autoComplete","Email","message","safeCharCode","c","safeLength","text","min","max","eMin","eMax","len","length","safeCharacters","err","noEmoji","replace","i","charCodeAt","validators","safeText","safeUsername","username","safeEmail","email","safePassword","password","SnackBar","visible","msg","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","close","action","IconButton","color","onClick","Close","fontSize","openSnackBar","sharedMemory","sb","Login","redirect","data","server","event","preventDefault","Loading","client","then","response","componentIsReady","authorized","key","activeVillageId","setState","e_username","e_password","to","S","register","onSubmit","login","Form","column","sm","Col","ServersList","Button","variant","ready","servers","Array","isArray","Number","map","serverNumber"],"sourceRoot":""}