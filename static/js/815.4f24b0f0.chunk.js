"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[815],{8011:function(e,s,i){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new URLSearchParams(window.location.search).get(e);return i?parseInt(r)||s:r||s}i.d(s,{Z:function(){return r}})},5617:function(e,s){var i=[4,5,5,4,3,3,4,3,1],r=[4,4,3,5,5,4,3,3,1],n=[4,3,4,3,4,5,5,3,1],t=[6,6,6,6,6,6,6,9,15];s.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return[i[e],r[e],n[e],t[e]]}},7815:function(e,s,i){i.r(s),i.d(s,{default:function(){return F}});var r=i(5671),n=i(3144),t=i(136),l=i(8557),a=i(7022),d=i(9743),h=i(2677),c=i(3504),x=i(6371),j=i(8937),o=i(5003),u=i(569),p=i(7783),g=i(5617),m=i(8011),v=i(3896),f=i(860),b=i.n(f),y=(0,n.Z)((function e(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,r.Z)(this,e),this.id=s[0],this.x=s[1],this.y=s[2],this.isVillage=1===s[3],this.type=s[4],this.name=s[5],this.race=s[6],this.allianceId=s[7],this.allianceName=s[8],this.playerId=s[9],this.playerName=s[10],this.isCapital=s[11],this.isCurrentActiveVillage=s[12],this.population=s[13],this.villageId=s[14],this.villageName=s[15],this.hasRallyPoint=s[16],this.hasMarketPlace=s[17],this.reports=s[18],this.monsters=s[19]}));v.Z.defineStructure(b().VIEW_LAND,y);var Z=i(184),N=function(e){(0,t.Z)(i,e);var s=(0,l.Z)(i);function i(){var e;(0,r.Z)(this,i);for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return(e=s.call.apply(s,[this].concat(t))).id=(0,m.Z)("id",x.Z.activeVillageId||1,!0),e.capital=(0,Z.jsx)(Z.Fragment,{}),e.infoTable=(0,Z.jsx)(Z.Fragment,{}),e.oasisTable=(0,Z.jsx)(Z.Fragment,{}),e.reportsTable=(0,Z.jsx)(Z.Fragment,{}),e.imageSource="",e.state={ready:!1},e}return(0,n.Z)(i,[{key:"renderInfoTable",value:function(){var e=this.land,s=e.playerId>0,i=!e.isVillage,r=e.type,n=(0,Z.jsx)(Z.Fragment,{}),t=(0,Z.jsx)(Z.Fragment,{});i&&s||(n=(0,Z.jsx)("thead",{children:(0,Z.jsx)("tr",{children:(0,Z.jsxs)("th",{colSpan:!i&&s?1:3,children:[i?"\u0627\u0644\u0648\u062d\u062f\u0627\u062a":s?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a":"\u062a\u0648\u0632\u064a\u0639 \u0627\u0644\u0623\u0631\u0627\u0636\u064a",":"]})})}));var l=(0,Z.jsx)(Z.Fragment,{}),a=(0,Z.jsx)(Z.Fragment,{}),d=(0,Z.jsx)(Z.Fragment,{}),h=(0,Z.jsx)(Z.Fragment,{}),x=(0,Z.jsx)(Z.Fragment,{});if(s)l=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:"\u0627\u0644\u0642\u0628\u064a\u0644\u0629:"}),(0,Z.jsx)("td",{children:(0,Z.jsx)("b",{children:j.m.Names[e.race]})})]}),a=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:"\u0627\u0644\u062a\u062d\u0627\u0644\u0641:"}),(0,Z.jsx)("td",{children:"\u0644\u0627 \u064a\u0648\u062c\u062f"})]}),d=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:"\u0627\u0644\u0645\u0627\u0644\u0643:"}),(0,Z.jsx)("td",{children:(0,Z.jsx)(c.rU,{to:"/Profile?id="+e.playerId,children:e.playerName})})]}),i?h=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:"\u0627\u0644\u0642\u0631\u064a\u0629:"}),(0,Z.jsx)("td",{children:(0,Z.jsx)(c.rU,{to:"/View?id="+e.villageId,children:e.villageName})})]}):x=(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:"\u0627\u0644\u0633\u0643\u0627\u0646:"}),(0,Z.jsx)("td",{children:(0,Z.jsx)("b",{children:e.population})})]}),t=(0,Z.jsxs)("tbody",{children:[l,a,d,i?h:x]});else if(i){var o=window.screen.availWidth<960,u=function(e,s){return(0,Z.jsxs)("tr",{children:[(0,Z.jsxs)("td",{children:[p.M.res(e),o?"":" \u0625\u0646\u062a\u0627\u062c ".concat(p.R.res[e]," ")]}),(0,Z.jsxs)("td",{children:[(0,Z.jsxs)("b",{children:["+%",s]})," \u0641\u064a \u0627\u0644\u0633\u0627\u0639\u0629"]})]},e)},m=[];r<4?m.push(u("r"+(r+1),"100")):r<7?m.push(u("r"+(r-3),"50"),u("r4","50")):m.push(u("r4","100")),this.oasisTable=(0,Z.jsxs)("table",{className:"info oasis",children:[(0,Z.jsx)("thead",{children:(0,Z.jsx)("tr",{children:(0,Z.jsx)("th",{colSpan:2,children:"\u0627\u0644\u0625\u0646\u062a\u0627\u062c:"})})}),(0,Z.jsx)("tbody",{children:m})]})}else{var v=(0,g.Z)(r);t=(0,Z.jsxs)("tbody",{children:[(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:p.M.res("r1")}),(0,Z.jsx)("td",{className:"number",children:v[0]}),(0,Z.jsx)("td",{children:"\u062d\u0637\u0627\u0628"})]}),(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:p.M.res("r2")}),(0,Z.jsx)("td",{className:"number",children:v[1]}),(0,Z.jsx)("td",{children:"\u062d\u0641\u0631\u0629 \u0637\u064a\u0646"})]}),(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:p.M.res("r3")}),(0,Z.jsx)("td",{className:"number",children:v[2]}),(0,Z.jsx)("td",{children:"\u0645\u0646\u062c\u0645 \u062d\u062f\u064a\u062f"})]}),(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:p.M.res("r4")}),(0,Z.jsx)("td",{className:"number",children:v[3]}),(0,Z.jsx)("td",{children:"\u062d\u0642\u0644 \u0642\u0645\u062d"})]})]})}this.infoTable=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("table",{className:"info",children:[n,t]}),(0,Z.jsx)("br",{}),this.oasisTable]})}},{key:"options",value:function(){var e=[],s=this.land;if(!s.isCurrentActiveVillage){var i=s.playerId>0,r=!s.isVillage,n=s.hasRallyPoint;r?e.push((0,Z.jsx)("div",{children:n?(0,Z.jsx)(c.rU,{to:"#/SendTroops?id"+s.id,children:"\xbb \u0646\u0647\u0628 \u0648\u0627\u062d\u0629 \u0645\u0647\u062c\u0648\u0631\u0629"}):(0,Z.jsxs)(Z.Fragment,{children:["\xbb \u0646\u0647\u0628 \u0648\u0627\u062d\u0629 \u0645\u0647\u062c\u0648\u0631\u0629 (",(0,Z.jsx)(c.rU,{to:"/Building?id=39",children:"\u0642\u0645 \u0628\u0628\u0646\u0627\u0621 \u0646\u0642\u0637\u0629 \u0627\u0644\u062a\u062c\u0645\u0639"}),")"]})},"SendTroops")):i?(e.push((0,Z.jsx)("div",{children:n?(0,Z.jsx)(c.rU,{to:"#/SendTroops?id"+s.id,children:"\xbb \u0625\u0631\u0633\u0627\u0644 \u0642\u0648\u0627\u062a"}):(0,Z.jsxs)(Z.Fragment,{children:["\xbb \u0625\u0631\u0633\u0627\u0644 \u0642\u0648\u0627\u062a (",(0,Z.jsx)(c.rU,{to:"/Building?id=39",children:"\u0642\u0645 \u0628\u0628\u0646\u0627\u0621 \u0646\u0642\u0637\u0629 \u0627\u0644\u062a\u062c\u0645\u0639"}),")"]})},"SendTroops")),e.push((0,Z.jsx)("div",{children:s.hasMarketPlace?(0,Z.jsx)(c.rU,{to:"#/SendResources?id"+s.id,children:"\xbb \u0625\u0631\u0633\u0627\u0644 \u062a\u062c\u0627\u0631"}):"\xbb \u0625\u0631\u0633\u0627\u0644 \u062a\u062c\u0627\u0631 (\u0642\u0645 \u0628\u0628\u0646\u0627\u0621 \u0627\u0644\u0633\u0648\u0642)"},"SendResources"))):e.push((0,Z.jsx)("div",{children:"\xbb \u0628\u0646\u0627\u0621 \u0642\u0631\u064a\u0629 \u062c\u062f\u064a\u062f\u0629"},"SettleVillage"))}return e}},{key:"onReady",value:function(){var e=this;(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return v.Z.request(b().VIEW_LAND,{id:Math.floor(e>=1&&e<=10201?e:0)})})(this.id).then((function(s){e.land=s,s.isCapital&&(e.capital=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("br",{}),(0,Z.jsx)("span",{className:"capital",children:"(\u0639\u0627\u0635\u0645\u0629)"})]})),e.imageSource=o.Z[s.isVillage?"village":"oasis"][s.type],e.renderInfoTable(),e.updateState({ready:!0})}))}},{key:"render",value:function(){if(this.state.ready){var e=this.land,s=window.screen.availWidth<960;return(0,Z.jsxs)("div",{id:"ViewLand",children:[(0,Z.jsxs)("h4",{className:"title",children:[(0,Z.jsx)("span",{className:"VillageName",children:e.name}),"(",e.x," , ",e.y,")",this.capital]}),(0,Z.jsxs)(a.Z,{children:[(0,Z.jsxs)(d.Z,{children:[(0,Z.jsx)(h.Z,{children:(0,Z.jsx)("img",{alt:e.isVillage?"\u0642\u0631\u064a\u0629":"\u0648\u0627\u062d\u0629",width:s?150:300,height:s?132:264,src:this.imageSource})}),(0,Z.jsx)(h.Z,{children:this.infoTable})]}),(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(h.Z,{className:"options",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("b",{children:"\u062e\u064a\u0627\u0631\u0627\u062a:"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(c.rU,{to:"/Map?id="+e.id,children:"\xbb \u0645\u0631\u0643\u0632 \u0627\u0644\u062e\u0631\u064a\u0637\u0629"})}),this.options()]})})]})]})}return(0,Z.jsx)(Z.Fragment,{})}}]),i}(u.Z),F=N}}]);
//# sourceMappingURL=815.4f24b0f0.chunk.js.map