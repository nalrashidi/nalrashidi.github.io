"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[873],{3323:function(e,n,r){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new URLSearchParams(window.location.search).get(e);return r?parseInt(i)||n:i||n}r.d(n,{Z:function(){return i}})},6788:function(e,n){var r={validCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>=-50&&e<=50&&n>=-50&&n<=50},safeCoordinate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Math.floor(e<-50?-50:e>50?50:e)},safeId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Math.floor(e<1?1:e>10201?10201:e)},getId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.safeId(101*(e+50)+(n+50+1))},getCoordinates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.safeId(e)-1,r=Math.floor(n/101),i=Math.floor(n-101*r);return{x:r-50,y:i-50}}};n.Z=r},2552:function(e,n,r){r.r(n),r.d(n,{default:function(){return u}});var i=r(5671),s=r(3144),t=r(136),l=r(8557),d=r(2888),a=r(5033),c=r(6788),o=r(466),h=r(3283),x=r(3323),j=r(6417),f=function(e){(0,t.Z)(r,e);var n=(0,l.Z)(r);function r(){var e;(0,i.Z)(this,r);for(var s=arguments.length,t=new Array(s),l=0;l<s;l++)t[l]=arguments[l];return(e=n.call.apply(n,[this].concat(t))).state={ready:!1,name:"",rank:0,race:"",allianceId:0,allianceName:"",numberOfVillages:0,population:0,age:0,gender:0,address:"",villages:(0,j.jsx)(j.Fragment,{}),description:["",""],self:!1,id:0},e}return(0,s.Z)(r,[{key:"onReady",value:function(){var e=this;a.Z.viewProfile((0,x.Z)("id",0,!0)).then((function(n){if(e.componentIsReady){var r=n.villages.map((function(e,n){var r=e[1],i=c.Z.getCoordinates(r);return(0,j.jsxs)("tr",{children:[(0,j.jsxs)("td",{children:[(0,j.jsx)(h.Link,{to:"/View?id="+r,children:e[0]}),e[2]?(0,j.jsx)("span",{className:"capital",children:"(\u0639\u0627\u0635\u0645\u0629)"}):(0,j.jsx)(j.Fragment,{})]}),(0,j.jsx)("td",{children:e[3]}),(0,j.jsx)("td",{children:(0,j.jsxs)(h.Link,{to:"/Map?id="+r,children:["(",i.x," , ",i.y,")"]})})]},n)})),i=n.gender;e.setState({ready:!0,name:n.name,rank:n.rank,race:o.m.Name(n.race),allianceId:n.allianceId||0,allianceName:n.allianceName||"-",numberOfVillages:n.numberOfVillages,population:n.population,age:Math.floor((new Date-new Date(n.dob).getTime())/315576e5),gender:1===i?"\u0645\u0644\u0643`":2===i?"\u0645\u0644\u0643\u0629":"-",address:n.address||"-",villages:r,description:n.description,self:n.self,id:n.id})}}))}},{key:"showControls",value:function(){return this.state.self?(0,j.jsxs)("div",{className:"player-controls",children:[(0,j.jsx)(h.Link,{to:"/Profile",children:"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629"}),"\xa0|\xa0",(0,j.jsx)(h.Link,{to:"/Profile/edit",children:"\u0645\u0646 \u0646\u062d\u0646"}),"\xa0|\xa0",(0,j.jsx)(h.Link,{to:"/Profile/options",children:"\u0627\u0644\u062e\u064a\u0627\u0631\u0627\u062a"}),"\xa0|\xa0",(0,j.jsx)(h.Link,{to:"/Profile/settings",children:"\u0627\u0644\u0627\u0639\u062f\u0627\u062f\u0627\u062a"})]}):(0,j.jsx)(j.Fragment,{})}},{key:"render",value:function(){var e=this.state;return e.ready?(0,j.jsxs)("div",{id:"Profile",children:[this.showControls(),(0,j.jsxs)("table",{className:"player-info table_collapsed",children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:(0,j.jsx)("th",{colSpan:2,children:e.name})})}),(0,j.jsx)("tbody",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"player-data",children:(0,j.jsxs)("table",{children:[(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0631\u062a\u0628\u0629:"}),(0,j.jsx)("td",{children:e.rank})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0642\u0628\u064a\u0644\u0629:"}),(0,j.jsx)("td",{children:e.race})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u062a\u062d\u0627\u0644\u0641:"}),(0,j.jsx)("td",{children:"dev..."})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0642\u0631\u0649:"}),(0,j.jsx)("td",{children:e.numberOfVillages})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0633\u0643\u0627\u0646:"}),(0,j.jsx)("td",{children:e.population})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0639\u0645\u0631:"}),(0,j.jsx)("td",{children:e.age})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u062c\u0646\u0633:"}),(0,j.jsx)("td",{children:e.gender})]}),(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0633\u0643\u0646:"}),(0,j.jsx)("td",{children:e.address})]}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:2,children:e.self?(0,j.jsx)(h.Link,{to:"/Profile/edit",children:"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u062e\u0635\u064a\u0629"}):(0,j.jsx)(h.Link,{to:"/Messages/send?name="+e.name,children:"\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629"})})})]}),(0,j.jsx)("tfoot",{children:(0,j.jsx)("tr",{children:(0,j.jsxs)("td",{colSpan:2,children:[e.description[0],"Desc1"]})})})]})}),(0,j.jsxs)("td",{children:[e.description[1],"Desc2"]})]})})]}),(0,j.jsxs)("table",{className:"player-villages table_collapsed",children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:(0,j.jsx)("th",{colSpan:3,children:"\u0627\u0644\u0642\u0631\u0649"})})}),(0,j.jsxs)("tbody",{children:[(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"\u0627\u0644\u0627\u0633\u0645"}),(0,j.jsx)("td",{children:"\u0627\u0644\u0633\u0643\u0627\u0646"}),(0,j.jsx)("td",{children:"\u0627\u0644\u0625\u062d\u062f\u0627\u062b\u064a\u0627\u062a"})]}),e.villages]})]})]}):(0,j.jsx)(j.Fragment,{})}}]),r}(d.Z),u=f}}]);