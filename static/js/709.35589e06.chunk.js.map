{"version":3,"file":"static/js/709.35589e06.chunk.js","mappings":"yLAGMA,GAAAA,EAAAA,EAAAA,IAEF,aAA4B,IAAhBC,EAAe,uDAAJ,IAAI,eAClBC,MAAMC,QAAQF,KAAWA,EAAW,CAAC,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,KAChEG,KAAKC,GAAKJ,EAAS,GACnBG,KAAKE,KAAOL,EAAS,GACrBG,KAAKG,KAAON,EAAS,GACrBG,KAAKI,QAAUP,EAAS,GAGxB,IAFA,IAAIQ,EAAOL,KAAKM,UAAY,GACxBC,EAAIV,EAAS,GACRW,EAAI,EAAGC,EAAI,EAAGD,EAAID,EAAEG,OAAQF,GAAK,EAAGC,IACzCJ,EAAKM,KAAK,CAACF,EAAGF,EAAEC,GAAID,EAAEC,EAAI,KAC9BR,KAAKY,UAAYf,EAAS,GAC1BG,KAAKa,OAAShB,EAAS,MAIhB,SAASiB,IAAyB,OAAOC,EAAAA,EAAAA,QAAeC,IAAAA,gBACvED,EAAAA,EAAAA,gBAAuBC,IAAAA,eAAsBpB,I,mOCZvCqB,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GACM,OADNA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFC,MAAQ,CACJC,OAAO,EACPhB,KAAM,GACNiB,QAAQ,wBACRR,WAAW,wBACXS,aAAa,wBACbR,QAAQ,yBANJ,EAiDP,OAjDO,+BAYR,WAAW,IAAD,QACNC,EAAAA,EAAAA,KAAuBQ,MAAK,SAAAC,GACxB,GAAK,EAAKC,kBACLD,EAAL,CACA,IAAIH,EAAS,GAAIK,EAAMF,EAAQtB,GAAIyB,EAAQH,EAAQjB,UACnDc,EAAOT,MAAK,kBAA8BgB,UAAWC,EAAAA,EAAAA,QAAiBL,EAAQrB,OAAvD,qBACvB,IAAK,IAAIM,EAAI,EAAGA,GAAK,GAAIA,IACrBY,EAAOT,KAAKkB,EAAAA,EAAAA,aAAsBH,EAAMlB,EAAI,GAAIiB,GAAKK,eACzDV,EAAOT,MAAK,SAAC,KAAD,CAA8BoB,GAAI,UAAlC,UACR,SAACC,EAAA,EAAD,CAAgBC,UAAU,MAAMC,SAAS,SAACC,EAAA,EAAD,CAASlC,GAAI,iBAAb,2EAAzC,UACI,iBAAMmC,QAAS,EAAGC,EAAE,iIAFL,oBAKvB,EAAKC,YAAY,CAAEnB,OAAO,EAAMhB,KAAMoB,EAAQpB,KAAMiB,OAAAA,UAE3D,oBAED,WACI,OAAKpB,KAAKkB,MAAMC,OAET,iBAAKoB,UAAU,cAAf,WACH,eAAIA,UAAU,oBAAd,SAAmCvC,KAAKkB,MAAMf,QAC9C,SAACqC,EAAA,EAAD,WACI,UAACC,EAAA,EAAD,YACI,SAACC,EAAA,EAAD,WACI,0BACI,gBAAKC,QAAQ,cAAcJ,UAAU,SAArC,SAA+CvC,KAAKkB,MAAME,cAGlE,UAACsB,EAAA,EAAD,YACI,gBAAKH,UAAU,eACf,gBAAKA,UAAU,iBACf,gBAAKA,UAAU,uBAdD,4BAmBjC,EAlDCtB,CAAgB2B,EAAAA,GA6EtB","sources":["components/API/Village.js","components/Village.jsx"],"sourcesContent":["import socket from \"../CLASSES/Socket\";\r\nimport codes from \"../CLASSES/opcode\";\r\n\r\nclass PlayerVillageResponse {\r\n    /** @param {[Number, Number, String,Number,[Number], [], []]} response */\r\n    constructor(response = []) {\r\n        if (!Array.isArray(response)) response = [0, -1, \"\", 0, [], {}, {}];\r\n        this.id = response[0];\r\n        this.type = response[1];\r\n        this.name = response[2];\r\n        this.loyalty = response[3];\r\n        let list = this.buildings = [];\r\n        let b = response[4];\r\n        for (let i = 0, j = 1; i < b.length; i += 2, j++)\r\n            list.push([j, b[i], b[i + 1]]);\r\n        this.movements = response[5];\r\n        this.troops = response[6];\r\n    }\r\n}\r\n/** @returns {Promise<PlayerVillageResponse>} */\r\nexport default function requestPlayerVillage() { return socket.request(codes.PLAYER_VILLAGE); }\r\nsocket.defineStructure(codes.PLAYER_VILLAGE, PlayerVillageResponse);","import React from \"react\";\r\nimport { Container, Row, Col, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Pure from \"./Pure\";\r\nimport Building from \"./CLASSES/buildings\";\r\nimport ImageMap from \"./Images\";\r\nimport \"./Village.css\";\r\nimport requestPlayerVillage from \"./API/Village\";\r\n\r\nclass Village extends Pure {\r\n    state = {\r\n        ready: false,\r\n        name: \"\",\r\n        feilds: <></>,\r\n        movements: <></>,\r\n        productions: <></>,\r\n        troops: <></>\r\n    }\r\n\r\n    // title = React.createRef();\r\n    // updateTitle(title = \"\") { this.title.current.textContent = title; }\r\n\r\n    onReady() {\r\n        requestPlayerVillage().then(village => {\r\n            if (!this.componentIsReady) return;\r\n            if (!village) return;\r\n            let feilds = [], vId = village.id, Build = village.buildings;\r\n            feilds.push(<image key=\"FeildsBackground\" xlinkHref={ImageMap.village[village.type]} />);\r\n            for (let i = 1; i <= 18; i++)\r\n                feilds.push(Building.FromResponse(Build[i - 1], vId).LinkComponent);\r\n            feilds.push(<Link key={\"Center-Building\"} to={\"/Center\"}>\r\n                <OverlayTrigger placement=\"top\" overlay={<Tooltip id={\"center-tooltip\"}>مركز القرية</Tooltip>}>\r\n                    <path opacity={0} d=\"M122 108 148 105 169 108 182 120 184 133 181 143 170 152 160 155 141 157 130 157 114 153 106 145 102 134 104 124 110 115Z\" />\r\n                </OverlayTrigger>\r\n            </Link>);\r\n            this.updateState({ ready: true, name: village.name, feilds });\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.ready) return <></>;\r\n\r\n        return <div className=\"VillageView\">\r\n            <h4 className=\"VillageName title\">{this.state.name}</h4>\r\n            <Container>\r\n                <Row>\r\n                    <Col>\r\n                        <div>\r\n                            <svg viewBox=\"0 0 300 264\" className=\"feilds\">{this.state.feilds}</svg>\r\n                        </div>\r\n                    </Col>\r\n                    <Col>\r\n                        <div className=\"movements\"></div>\r\n                        <div className=\"productions\"></div>\r\n                        <div className=\"troops\"></div>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>;\r\n    }\r\n}\r\n\r\n// class VillageView extends Pure {\r\n//     name = \"\";\r\n//     state = { Content: [] }\r\n//     onReady() {\r\n//         client.village(village => {\r\n//             if (!village) return;\r\n//             sharedMemory.safe(\"village\", v => v.updateTitle(village.name));\r\n//             let Content = [], vId = village.id, Build = village.buildings;\r\n//             Content.push(<image key=\"FeildsBackground\" xlinkHref={ImageMap.village[village.type]} />);\r\n//             for (let i = 1; i <= 18; i++)\r\n//                 Content.push(Building.FromResponse(Build[i - 1], vId).LinkComponent);\r\n//             Content.push(<Link key={\"Center-Building\"} to={\"/Center\"}>\r\n//                 <OverlayTrigger placement=\"top\" overlay={<Tooltip id={\"center-tooltip\"}>مركز القرية</Tooltip>}>\r\n//                     <path opacity={0} d=\"M122 108 148 105 169 108 182 120 184 133 181 143 170 152 160 155 141 157 130 157 114 153 106 145 102 134 104 124 110 115Z\" />\r\n//                 </OverlayTrigger>\r\n//             </Link>);\r\n//             this.updateState({ Content });\r\n//         });\r\n//     }\r\n//     render() {\r\n//         return this.state.Content;\r\n//     }\r\n// }\r\n\r\nexport default Village;"],"names":["PlayerVillageResponse","response","Array","isArray","this","id","type","name","loyalty","list","buildings","b","i","j","length","push","movements","troops","requestPlayerVillage","socket","codes","Village","state","ready","feilds","productions","then","village","componentIsReady","vId","Build","xlinkHref","ImageMap","Building","LinkComponent","to","OverlayTrigger","placement","overlay","Tooltip","opacity","d","updateState","className","Container","Row","Col","viewBox","Pure"],"sourceRoot":""}